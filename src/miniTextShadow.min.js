var generators=[];function isChainable(d){d="."==d[0]?d.slice(1).split("(")[0]:d.split("(")[0];var g={activateGenerator:!0,deactivateGenerator:!0,setAxisValues:!0,resetGenerator:!0,addToFavourites:!0,removeFavourites:!0,getId:!1,getFavourites:!1,getAllFavourites:!1,showFavourites:!0,getBackup:!1,restoreBackup:!1,"delete":!1};return void 0!=g[d]?g[d]:!1}
function TextShadow(d,g){function f(a){if(!isNaN(a))throw Error("The item that you passed as argument is a number not a node");return $(a).val()}function p(a,e){var c="list-group-item ";e&&(c+=e);return"<li class="+c+">text-shadow:"+a+";</li>"}var a=this,b=null;a.host_id=null;if("string"==typeof d&&d&&"."!=d[0]&&"#"!=!d[0]){if("body"==d)throw Error("Body can't be used as container!!!");a.host_id=b=d}else throw Error("Invalid id!!!"+d);var r={0:"<div class='btn btn-primary activate'>Activate Generator</div>",
1:"<div class='btn btn-primary deactivate'>Deactivate Generator</div>",2:"<div class='btn btn-warning reset'>Reset Generator</div>",3:"<div class='btn btn-primary add'>Add to Favourites</div>",4:"<div class='btn btn-primary show'>Show Favourites</div>",5:"<div class='btn btn-danger remove'>Remove Favourites</div>"};a.generator_markup="<div class='text-shadow-container'> <div class='panel panel-primary'><div class='panel-heading text-center'>Text shadow Generator</div><div class='panel-body'><div class='row text-center'> <div class='col-md-4'> <h3 class='text-info'>X-axis</h3> <input type='range' class='text-shadow-sliders x-axis' min='-100' max='150' value=0></div> <div class='col-md-4'> <h3 class='text-info'>Y-axis</h3> <input type='range' class='text-shadow-sliders y-axis' min='-100' max='150' value=0> </div><div class='col-md-4'><h3 class='text-info'>Blur</h3><input type='range' class='text-shadow-sliders blur' min='0' max='10' step='0.1' value='0'> </div></div> <div class='row text-center'> <div class='col-md-12'> <h3 class='text-shadow-output'>Shadow is applied here</h3> </div> </div> <div class='row text-center'> <div class='col-md-3'><h3 class='text-info'>Red</h3> <input type='range' class='text-shadow-color-sliders' min='0' max='255' step='1' value='0'>  </div><div class='col-md-3'>  <h3 class='text-info'>Green</h3>  <input type='range' class='text-shadow-color-sliders' min='0' max='255' step='1' value='0'> </div>  <div class='col-md-3'> <h3 class='text-info'>Blue</h3>  <input type='range' class='text-shadow-color-sliders' min='0' max='255' step='1' value='0'>  </div> <div class='col-md-3'>  <h3 class='text-info'>Opacity</h3> <input type='range' class='text-shadow-color-sliders opacity' min='0' max='1' step='0.1' value='1'> </div></div>\x3c!-- /row --\x3e";
if("object"!=typeof g&&g)throw Error("The list of the default buttons has to be an array not a "+typeof g);if(g&&"object"==typeof g){for(var t="<div class='btn-group custom-buttons'>",w=g.length,q=0;q<w;q++){var u=g[q];r[u]&&(t+=r[u]+"\n")}a.generator_markup+=t+"</div>"}a.generator_markup+="</div> \x3c!-- /panel-body --\x3e  <div class='panel-heading text-center text-shadow-code-output'>text-shadow:0px 0px rgb(0,0,0);</div>  </div></div>";var h="none";a.content_backup=null;a.favourites=[];a.getId=
function(){return a.host_id};a.getBackup=function(){return a.content_backup};a.restoreBackup=function(c){var e=a.getBackup();if(!c)throw Error("Wrong destination");"."==c[0]?bootbox.confirm("You are going to create duplicates of your backed content.Are you sure you want to continue",function(a){a&&$(c).html(e)}):$(c).html(e);return a};a.getCode=function(){return h};a.activateGenerator=function(){$(document).ready(function(){$(b).on("mousemove touchmove","input[type=range]",function(){var c=a.getId(),
e=$(c+" .text-shadow-sliders"),b=$(c+" .text-shadow-color-sliders");h=f(e[0])+"px "+f(e[1])+"px ";"0"!=f(e[2])&&(h+=f(e[2])+"px ");e="1"!=f(b[3])?"rgba("+f(b[0])+","+f(b[1])+","+f(b[2])+","+f(b[3])+")":"rgb("+f(b[0])+","+f(b[1])+","+f(b[2])+")";h+=e;$(c+" .text-shadow-output").css("text-shadow",h);$(c+" .text-shadow-code-output").text("text-shadow:"+h+";")})});return a};a.deactivateGenerator=function(){$(b).off();return a};a.activate=a.activateGenerator;a.deactivate=a.deactivateGenerator;a.setAxisValues=
function(c,e){var d=$(b+" .text-shadow-sliders");if(isNaN(e)||!e||!c)throw Error("An error occured.");var n=d.length-1,l="min"==c.toLowerCase()?"min":"max";if("min"==l&&e>=$(d[0]).prop("max"))throw Error("Minimum value must be less than the maximum");for(var m=0;m<n;m++)$(d[m]).prop(l,e);return a};a.resetGenerator=function(){$(b+" .text-shadow-sliders").val(0);$(b+" .text-shadow-color-sliders").val(0);$(b+" .opacity").val(1);h="0px 0px rgb(0,0,0)";$(b+" .text-shadow-code-output").text("text-shadow:"+
h+";");$(b+" .panel .text-shadow-output").css("text-shadow","none");return a};a.addToFavourites=function(){-1==a.favourites.indexOf(h)&&"none"!=h&&a.favourites.push(h);return a};a.getFavourites=function(){return a.favourites};a.getAllFavourites=function(){if(1==generators.length)return a.getFavourites();for(var c=[],b=0,d=generators.length;b<d;b++)for(var n=generators[b].getFavourites(),l=0,m=n.length;l<m;l++){var v=n[l];-1==c.indexOf(v)&&c.push(v)}return c};a.removeFavourites=function(){a.favourites.length?
bootbox.confirm("Are you sure you want to erase your favourites?",function(b){b&&(a.favourites.length=0,bootbox.alert("Favourites deleted!!!"))}):bootbox.alert("There are no favourites to remove.");return a};a.showFavourites=function(){var c=10,e=a.getFavourites(),d=e.length;d?(bootbox.alert(function(){for(var a="<ul class='list-group fix'>",b=9<d?10:d,c=0;c<b;c++)a+=p(e[c],"favourite_item");return a+"</ul><div class='col-md-12 text-center'><div class='btn-group'><div class='btn btn-info show_less'>Show less</div><div class='btn btn-success download_button'>Download Favourites<span class='pull-right glyphicon glyphicon-download-alt' style='margin-left:4px'></span></div><div class='btn btn-info show_more'>Show more</div></div></div>"}()),
$(".modal-body").on("click",".download_button",function(){var b="/********\n",c=a.getFavourites(),d=c.length;if(!d)return"No favourites found";for(var e=0;e<d;e++)b+="text-shadow:"+c[e]+";\n";try{saveAs(new Blob([b+"**************\n"],{type:"text/plain;charset=utf-8"}),"favourites.css")}catch(x){bootbox.alert("<div class='alert alert-danger' role='alert' style='margin-top:8px'><strong>Filesaver</strong> is missing.Can't download favourites</div><p class='text-warning'>Without Filesaver we are not able to access the filesystem</p>")}}),
$(".list-group").on("click",".list-group-item",function(){$(".list-group li").removeClass("active");for(var a=$(this).text(),c=a.split(":")[1],d=c.split("(")[1].split(")")[0].split(","),e=c.split(4==d.length?"rgba(":"rgb(")[0],e=e.split(" ").map(function(a){return parseFloat(a)}),f=$(b+" .text-shadow-sliders"),g=$(b+" .text-shadow-color-sliders"),h=f.length,k=0;k<h;k++)$(f[k]).val(parseFloat(e[k]));for(k=0;k<total_colors;k++)$(g[k]).val(parseFloat(d[k]));$(b+" .text-shadow-code-output").text(a);$(b+
" .text-shadow-output").css("text-shadow",c.split(";")[0]);$(this).addClass("active")}),$(".show_less").on("click",function(){for(var a=9<c?c-10:0,b=e.slice(a,c),d="",f=0,g=b.length;f<g;f++)d+=p(b[f]);c=a;$(".fix").html(d)}),$(".show_more").on("click",function(){var a=e.length;if(!(c>=a)){for(var b="",a=a-c,a=9<a?c+10:c+a,d=c;d<a;d++)b+=p(e[d]);c=a;$(".fix").html(b)}})):bootbox.alert("No favourites to show!!!");return a};a["delete"]=function(){bootbox.confirm("Are you sure you want to delete the current TextShadow generator?",
function(b){b?(a.deactivateGenerator(),a.restoreBackup(a.getId())):bootbox.alert("Operation aborted!!!!")})};generators.push(a);(function(){if(b&&"#"==b[0])$(document).on("ready",function(){a.content_backup=$(b).html();$(b).html(a.generator_markup);g&&($(b+" .activate").on("click",a.activateGenerator),$(b+" .deactivate").on("click",a.deactivateGenerator),$(b+" .reset").on("click",a.resetGenerator),$(b+" .add").on("click",a.addToFavourites),$(b+" .show").on("click",a.showFavourites),$(b+" .remove").on("click",
a.removeFavourites))});return a})()};